{% extends 'main.html' %}

{% load static %}
{% block content %}
<head>
    <title>Gallery</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        $(document).ready(function()
        {
            $.ajax({
                url:'http://127.0.0.1:8000/gallery/cards/api',
                dataType:'JSON',
                success:function(cards){
                    for (var i = 0; i < cards.length; i++)
                    {
                        var row=$('<div><a href="{% url 'presentation-card' 'cards[i].id' %}"><div class="divtext">'+cards[i].title+'</div></a><div class="divimg"><img src="'+cards[i].featured_image+'"/></div></div>');
                        $("#MyDiv").append(row)
                    }
                }
            });
        });
    </script>
</head>


<body>

<div class="divtitle"><h1 align="center">Gallery</h1></div>

    <center>
        <div class="container" id="MyDiv">
        </div>
    </center>

{% include 'pagination.html' with queryset=cards custom_range=custom_range %}

</body>

{% endblock content %}

<link rel="stylesheet" href="{% static 'styles/styles.css' %}" />